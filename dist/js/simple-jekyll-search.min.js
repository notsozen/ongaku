!function(){"use strict";var e={load:function(e,t){var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("GET",e,!0),n.onreadystatechange=(r=n,i=t,function(){if(4===r.readyState&&200===r.status)try{i(null,JSON.parse(r.responseText))}catch(e){i(e,null)}}),n.send();var r,i}};var t=function(e,t){var n=t.length,r=e.length;if(r>n)return!1;if(r===n)return e===t;e:for(var i=0,a=0;i<r;i++){for(var o=e.charCodeAt(i);a<n;)if(t.charCodeAt(a++)===o)continue e;return!1}return!0},n=new function(){this.matches=function(e,n){return t(n,e)}};var r=new function(){this.matches=function(e,t){return"string"==typeof e&&(e=e.trim()).toLowerCase().indexOf(t.toLowerCase())>=0}};var i={put:function(e){if(u(e))return l(e);if(t=e,Boolean(t)&&"[object Array]"===Object.prototype.toString.call(t))return function(e){for(var t=[],n=0,r=e.length;n<r;n++)u(e[n])&&t.push(l(e[n]));return t}(e);var t;return},clear:function(){return a.length=0,a},search:function(e){if(!e)return[];return function(e,t,n,r){for(var i=[],a=0;a<e.length&&i.length<r.limit;a++){var o=c(e[a],t,n,r);o&&i.push(o)}return i}(a,e,o.searchStrategy,o)},setOptions:function(e){(o=e||{}).fuzzy=e.fuzzy||!1,o.limit=e.limit||10,o.searchStrategy=e.fuzzy?n:r}},a=[],o={};function u(e){return Boolean(e)&&"[object Object]"===Object.prototype.toString.call(e)}function l(e){return a.push(e),a}function c(e,t,n,r){for(var i in e)if(!s(e[i],r.exclude)&&n.matches(e[i],t))return e}function s(e,t){for(var n=!1,r=0,i=(t=t||[]).length;r<i;r++){var a=t[r];!n&&new RegExp(e).test(a)&&(n=!0)}return n}o.fuzzy=!1,o.limit=10,o.searchStrategy=o.fuzzy?n:r;var f={compile:function(e){return p.template.replace(p.pattern,function(t,n){var r=p.middleware(n,e[n],p.template);return void 0!==r?r:e[n]||t})},setOptions:function(e){p.pattern=e.pattern||p.pattern,p.template=e.template||p.template,"function"==typeof e.middleware&&(p.middleware=e.middleware)}},p={};p.pattern=/\{(.*?)\}/g,p.template="",p.middleware=function(){};var h={merge:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r],void 0!==t[r]&&(n[r]=t[r]));return n},isJSON:function(e){try{return!!(e instanceof Object&&JSON.parse(JSON.stringify(e)))}catch(e){return!1}}};!function(t){var n={searchInput:null,resultsContainer:null,json:[],searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',templateMiddleware:function(){},noResultsText:"No results found",limit:10,fuzzy:!1,exclude:[]},r=["searchInput","resultsContainer","json"],a=function e(t){if(n=t,!(n&&void 0!==n.required&&n.required instanceof Array))throw new Error("-- OptionsValidator: required options missing");var n;if(!(this instanceof e))return new e(t);var r=t.required;this.getRequiredOptions=function(){return r},this.validate=function(e){var t=[];return r.forEach(function(n){void 0===e[n]&&t.push(n)}),t}}({required:r});function o(e){i.put(e),n.searchInput.addEventListener("keyup",function(e){var t;t=e.which,-1===[13,16,20,37,38,39,40,91].indexOf(t)&&(n.resultsContainer.innerHTML="",l(e.target.value))})}function u(e){n.resultsContainer.innerHTML+=e}function l(e){var t;(t=e)&&t.length>0&&function(e){var t=e.length;if(0===t)return u(n.noResultsText);for(var r=0;r<t;r++)u(f.compile(e[r]))}(i.search(e))}function c(e){throw new Error("SimpleJekyllSearch --- "+e)}t.SimpleJekyllSearch=function(t){var u;return a.validate(t).length>0&&c("You must specify the following required options: "+r),n=h.merge(n,t),f.setOptions({template:n.searchResultTemplate,middleware:n.templateMiddleware}),i.setOptions({fuzzy:n.fuzzy,limit:n.limit}),h.isJSON(n.json)?o(n.json):(u=n.json,e.load(u,function(e,t){e&&c("failed to get JSON ("+u+")"),o(t)})),{search:l}},t.SimpleJekyllSearch.init=t.SimpleJekyllSearch,"function"==typeof t.SimpleJekyllSearchInit&&t.SimpleJekyllSearchInit.call(this,t.SimpleJekyllSearch)}(window)}();